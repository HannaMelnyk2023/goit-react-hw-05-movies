{"version":3,"file":"static/js/278.a29d5a57.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/MovieList/MovieList.module.css?6db5","components/MovieList/MovieList.jsx","pages/Movies/Movies.jsx","services/api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"list\":\"MovieList_list__yjDCC\",\"item\":\"MovieList_item__tDivI\",\"link\":\"MovieList_link__+cn-g\"};","import { Link, useLocation } from 'react-router-dom';\nimport styles from './MovieList.module.css'\n\nexport default function MovieList({ movies }) {\n    const location = useLocation();\n\n    return (\n        <ul className = {styles.list}>\n            {movies.map(({ id, title }) => (\n                <li key={id} className = {styles.item}>\n                    <Link to={`/movies/${id}`}\n                        state={{ from: location }} className = {styles.link}>\n                        {title}\n                    </Link>\n                </li>\n            ))}\n        </ul>\n    )\n}","import { useSearchParams } from 'react-router-dom';\nimport { useEffect, useState } from 'react';\nimport { fetchMovieByQuery } from 'services/api';\nimport MovieList from 'components/MovieList/MovieList';\n\nexport default function Movies() {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query') ?? '';\n  const [movies, setMovies] = useState([]);\n\n  useEffect(() => {\n    if (!query) return;\n\n    fetchMovieByQuery(query)\n      .then(data => setMovies(data.results))\n      .catch(console.error);\n  }, [query]);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const value = e.target.elements.query.value.trim();\n    if (!value) return;\n    setSearchParams({ query: value });\n  };\n  return (\n    <>\n      <form onSubmit={handleSubmit}>\n        <input name=\"query\" />\n        <button type=\"submit\">Search</button>\n      </form>\n\n      <MovieList movies={movies} />\n    </>\n  );\n}\n","const BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = process.env.REACT_APP_TMDB_API_KEY;\n\nexport async function fetchTrendingMovies() {\n    const responce = await fetch(\n        `${BASE_URL}/trending/movie/day?api_key=${API_KEY}`\n    );\n\n    if (!responce.ok) {\n        throw new Error('Failed to fetch trending movies');\n    }\n\n    return responce.json();\n}\n\nexport async function fetchMovieByQuery(query) {\n    const responce = await fetch(\n        `${BASE_URL}/search/movie?api_key=${API_KEY}&query=${query}`\n    );\n\n    if (!responce.ok) {\n        throw new Error('Failed to fetch movies');\n    }\n\n    return responce.json();\n}\n\nexport async function fetchMovieByDetails(movieId) {\n    const responce = await fetch(\n        `${BASE_URL}/movie/${movieId}?api_key=${API_KEY}`\n    );\n\n    if (!responce.ok) {\n        throw new Error('Failed to fetch movie details');\n    }\n\n    return responce.json();\n}\n\nexport async function fetchMovieCreditsy(movieId) {\n    const responce = await fetch(\n        `${BASE_URL}/movie/${movieId}/credits?api_key=${API_KEY}`\n    );\n\n    if (!responce.ok) {\n        throw new Error('Failed to fetch credits');\n    }\n\n    return responce.json();\n}\n\nexport async function fetchMovieReviews(movieId) {\n    const responce = await fetch(\n        `${BASE_URL}/movie/${movieId}/reviews?api_key=${API_KEY}`\n    );\n\n    if (!responce.ok) {\n        throw new Error('Failed to fetch reviews');\n    }\n\n    return responce.json();\n}\n"],"names":["MovieList","_ref","movies","location","useLocation","_jsx","className","styles","children","map","_ref2","id","title","Link","to","concat","state","from","Movies","_searchParams$get","_useSearchParams","useSearchParams","_useSearchParams2","_slicedToArray","searchParams","setSearchParams","query","get","_useState","useState","_useState2","setMovies","useEffect","fetchMovieByQuery","then","data","results","catch","console","error","_jsxs","_Fragment","onSubmit","e","preventDefault","value","target","elements","trim","name","type","BASE_URL","API_KEY","process","fetchTrendingMovies","_fetchTrendingMovies","apply","arguments","_asyncToGenerator","_regeneratorRuntime","_callee","responce","_context","prev","next","fetch","sent","ok","Error","abrupt","json","stop","_x","_fetchMovieByQuery","_callee2","_context2"],"sourceRoot":""}